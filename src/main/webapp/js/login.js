var Login=function() {	/*用户登录信息校验	*/	var validateTxtFunction=function(){		$('input.easyui-validatebox').validatebox({				tipOptions: {	// the options to create tooltip					showEvent: 'mouseenter',					hideEvent: 'mouseleave',					showDelay: 0,					hideDelay: 0,					zIndex: '',					onShow: function(){						if (!$(this).hasClass('validatebox-invalid')){							if ($(this).tooltip('options').prompt){								$(this).tooltip('update', $(this).tooltip('options').prompt);							} else {								$(this).tooltip('tip').hide();							}						} else {							$(this).tooltip('tip').css({								color: '#000',								borderColor: '#CC9933',								backgroundColor: '#FFFFCC'							});						}					},					onHide: function(){						if (!$(this).tooltip('options').prompt){							$(this).tooltip('destroy');						}					}				}			}).tooltip({				position: 'right',				content: function(){					var opts = $(this).validatebox('options');					return opts.prompt;				},				onShow: function(){					$(this).tooltip('tip').css({						color: '#000',						borderColor: '#CC9933',						backgroundColor: '#FFFFCC'					});				}			});	};	var loginFunction=function(){		$('#login').form({			url: basePath + "v1/login/login",			onSubmit:function(){				/*alert(basePath)*/				var isValid = $(this).form("enableValidation").form('validate');				return isValid;			},			success:function(msg){				var res=eval('('+msg.split("<aud")[0]+')');				if(res.resultCode=="SUCCESS"){					if(res.roleId==0 || res.roleId==1){                        window.location.href = basePath + "v1/login/homePage";					}else if(res.roleId==2){                        window.location.href = basePath + "v1/storeOrder/swgoodsManagerPage";					}else{//3                           window.location.href = basePath + "v1/lLogisticsManagerController/logisticsManagerPage";//					       window.location.href = basePath + "v1/syslog/operationLogPage";					}				}				if(res.resultCode=="FAIL"){					$("#verifyCodeImage").click();					Common.showMessage(res.msg,'error');				}			}		});		$("#loginbtn").click(function(){			$('#login').submit();		})/*回车事件*/				$(document).keypress(function(e) {  			    // 回车键事件  			       if(e.which == 13) {  			    	   $('#login').submit();//处理事件			       }  		 }); 	};		//验证码逻辑	var reloadVerifyCode = function() {		$("#verifyCodeImage").click(function(){			var imgSrc =$(this);			var src = imgSrc.attr("src");			imgSrc.attr("src", src +"?"+ Math.random());		})	};	return {		init:function(){			reloadVerifyCode();			validateTxtFunction();//用户登录校验			loginFunction();		}			}}();